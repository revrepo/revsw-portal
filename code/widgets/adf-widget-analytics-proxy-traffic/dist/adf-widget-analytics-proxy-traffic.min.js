!function(t,i){"use strict";angular.module("adf.widget.analytics-proxy-traffic",["adf.provider"]).config(["dashboardProvider",function(t){t.structure("6-6",{rows:[{columns:[{styleClass:"col-md-6"},{styleClass:"col-md-6"}]}]})}]).config(["dashboardProvider",function(t){var i={title:"Proxy Traffic",description:"Web Alalytics Proxy Traffic",templateUrl:"{widgetsPath}/analytics-proxy-traffic/src/view.html",controller:["$scope",function(t){}],edit:{templateUrl:"{widgetsPath}/analytics-proxy-traffic/src/edit.html",controller:["$scope","$q","Stats","Countries","User","AlertService","filterGeneratorConst",function(t,i,e,a,s,l,o){angular.copy(t.config);t.panel_filter_info="{widgetsPath}/analytics-proxy-traffic/src/views/parts/panel-filter-settings.tpl.html",t.onDomainSelected=function(){console.log(t.domain),t.domain&&t.domain.id&&t.reload()},t.reload=function(){angular.extend(t.config,{domain:angular.copy(t.domain)}),t.reloadCountry(t.domain.id),t.reloadOS(t.domain.id),t.reloadDevice(t.domain.id),t.reloadStatusCode(t.domain.id)},t.flCountry={},t.reloadCountry=function(i){t.flCountry=a.query()},t.flOs={labels:[],data:[]},t.reloadOS=function(i){e.os({domainId:i}).$promise.then(function(i){t.flOs.labels.length=0,t.flOs.data.length=0,i.data&&i.data.length>0&&angular.forEach(i.data,function(i){t.flOs.labels.push(i.key),t.flOs.data.push(i.count)})})},t.flDevice={labels:[],data:[]},t.reloadDevice=function(i){e.device({domainId:i}).$promise.then(function(i){t.flDevice.labels.length=0,t.flDevice.data.length=0,i.data&&i.data.length>0&&angular.forEach(i.data,function(i){t.flDevice.labels.push(i.key),t.flDevice.data.push(i.count)})})},t.statusCode={labels:[],data:[]},t.reloadStatusCode=function(i){return e.statusCode({domainId:i}).$promise.then(function(i){t.statusCode.labels.length=0,t.statusCode.data.length=0,i.data&&i.data.length>0&&(angular.forEach(i.data,function(i){t.statusCode.labels.push(i.key),t.statusCode.data.push(i.count)}),t.config.statusCode=t.statusCode.labels)})},s.getUserDomains(!0)}]}};t.widget("analytics-proxy-traffic-bandwidth-usage",angular.extend(i,{title:"Bandwidth Usage",description:"Display the Bandwidth Usage (requests-chart)",templateUrl:"{widgetsPath}/analytics-proxy-traffic/src/views/view-requests-chart.tpl.html"})).widget("analytics-proxy-traffic-chart",angular.extend(i,{title:"Total Requests",description:"Display the Total Requests (proxy-traffic-chart)",templateUrl:"{widgetsPath}/analytics-proxy-traffic/src/views/view-proxy-traffic-chart.tpl.html"})).widget("analytics-proxy-traffic-http-https-chart",angular.extend(i,{title:"HTTP/HTTPS Hits",description:"Display the HTTP/HTTPS Hits (http-https-chart)",templateUrl:"{widgetsPath}/analytics-proxy-traffic/src/views/view-http-https-chart.tpl.html"})).widget("analytics-proxy-http-status-code-chart",angular.extend(i,{title:"HTTP Status Code Hits",description:"Display the HTTP Status Code Hits (http-status-code-chart)",templateUrl:"{widgetsPath}/analytics-proxy-traffic/src/views/view-http-status-code-chart.tpl.html"})).widget("analytics-proxy-request-status-chart",angular.extend(i,{title:"Success/Failure Request Status",description:"Display the Success/Failure Request Status(request-status-chart)",templateUrl:"{widgetsPath}/analytics-proxy-traffic/src/views/view-request-status-chart.tpl.html"})).widget("analytics-proxy-hits-cache-chart",angular.extend(i,{title:"Edge Cache Efficiency Hits",description:"Display the Edge Cache Efficiency Hits(hits-cache-chart)",templateUrl:"{widgetsPath}/analytics-proxy-traffic/src/views/view-hits-cache-chart.tpl.html"}))}]),angular.module("adf.widget.analytics-proxy-traffic").run(["$templateCache",function(t){t.put("{widgetsPath}/analytics-proxy-traffic/src/edit.html",'<form role=form><div class=form-group><label for=domain>domain</label><div domain-select id=domain ng-model=domain on-select=onDomainSelected() select-one=true></div></div><div class=form-group><label for=domain>Delay</label><select class="form-control fixed" ng-model=config.delay><option value=1>Last 1 Day</option><option value=7>Last 7 Day</option><option value=30>Last 30 Day</option></select></div><div class=form-group><label for=country>Country</label><select id=country class="form-control fixed" ng-options="key as item for (key, item) in flCountry" ng-model=config.filters.country><option>All Countries</option></select></div><div class=form-group><label for=os>OS</label><select id=os class="form-control fixed" ng-options="item for item in flOs.labels" ng-model=config.filters.os><option>All OS</option></select></div><div class=form-group><label for=device>Device</label><select id=device class="form-control fixed" ng-options="item for item in flDevice.labels" ng-model=config.filters.device><option>All Devices</option></select></div></form>'),t.put("{widgetsPath}/analytics-proxy-traffic/src/view.html","<div><h1>Widget view</h1><p>Content of {{config.sample}}</p></div>"),t.put("{widgetsPath}/analytics-proxy-traffic/src/views/view-hits-cache-chart.tpl.html","<div class=col-lg-12><h4>{{config.domain.domain_name}}</h4><div class=row ng-include=\"'{widgetsPath}/analytics-proxy-traffic/src/views/parts/panel-filter-settings.tpl.html'\"></div><div hits-cache-chart filters-sets=config.filters ng-domain=config.domain></div></div>"),t.put("{widgetsPath}/analytics-proxy-traffic/src/views/view-http-https-chart.tpl.html","<div class=col-lg-12><h4>{{config.domain.domain_name}}</h4><div class=row ng-include=\"'{widgetsPath}/analytics-proxy-traffic/src/views/parts/panel-filter-settings.tpl.html'\"></div><div http-https-chart filters-sets=config.filters ng-domain=config.domain></div></div>"),t.put("{widgetsPath}/analytics-proxy-traffic/src/views/view-http-status-code-chart.tpl.html","<div class=col-lg-12><h4>{{config.domain.domain_name}}</h4><div class=row ng-include=\"'{widgetsPath}/analytics-proxy-traffic/src/views/parts/panel-filter-settings.tpl.html'\"></div><div http-status-code-chart filters-sets=config.filters status-codes=config.statusCode ng-domain=config.domain></div></div>"),t.put("{widgetsPath}/analytics-proxy-traffic/src/views/view-proxy-traffic-chart.tpl.html","<div class=col-lg-12><h4>{{config.domain.domain_name}}</h4><div class=row ng-include=\"'{widgetsPath}/analytics-proxy-traffic/src/views/parts/panel-filter-settings.tpl.html'\"></div><div proxy-traffic-chart status-codes=statusCode.labels fl-os=config.os.labels fl-device=config.device.labels fl-country=config.countries ng-domain=config.domain></div></div>"),t.put("{widgetsPath}/analytics-proxy-traffic/src/views/view-request-status-chart.tpl.html","<div class=col-lg-12><h4>{{config.domain.domain_name}}</h4><div class=row ng-include=\"'{widgetsPath}/analytics-proxy-traffic/src/views/parts/panel-filter-settings.tpl.html'\"></div><div request-status-chart status-codes=config.statusCode fl-os=config.os.labels fl-device=config.device.labels fl-country=config.countries ng-domain=config.domain></div></div>"),t.put("{widgetsPath}/analytics-proxy-traffic/src/views/view-requests-chart.tpl.html",'<div class="col-lg-12 view-requests-chart"><h4>{{config.domain.domain_name}}</h4><div class=row ng-include="\'{widgetsPath}/analytics-proxy-traffic/src/views/parts/panel-filter-settings.tpl.html\'"></div><div requests-chart filters-sets=config.filters ng-domain=config.domain></div></div>'),t.put("{widgetsPath}/analytics-proxy-traffic/src/views/parts/panel-filter-settings.tpl.html","<div ng-show=!!config.filters[index.key] class=col-md-3 ng-repeat=\"index in [{key:'os',title:'OS'},{key:'country',title:'Ð¡ountry'},{key:'device',title:'Device'}]\"><span ng-if=!!config.filters[index.key]>{{index.title}}: {{config.filters[index.key]}}</span></div>")}])}(window);